import{b as A,f as z,g as Q,i as U,k as B,l as Y,m as q,w as H}from"./chunk-3IAGLYRS.js";import{m as T}from"./chunk-DIBFAAWP.js";import{Ab as c,Bb as u,Hb as N,Ib as O,Jb as j,Lb as n,Lc as R,Mb as P,Nb as G,Nc as D,Oc as W,Pb as v,Qb as y,Ra as l,Rb as C,T as b,Tb as _,Uc as S,Wb as L,ba as g,ca as h,gb as E,ib as m,ka as k,la as p,ma as f,mb as I,tb as e,ub as t,va as w,vb as d,zb as M}from"./chunk-UISEBZIM.js";var Z=["amountInput"],$=o=>({"btn-disabled opacity-50":o});function ee(o,F){if(o&1){let i=M();e(0,"div",19)(1,"div",20),c("click",function(){let a=p(i).$implicit,s=u(2);return f(s.selectedCategory=a)}),e(2,"div",21),d(3,"i"),t(),e(4,"span",22),n(5),t()()()}if(o&2){let i=F.$implicit,r=u(2);l(),m("ngClass",(r.selectedCategory==null?null:r.selectedCategory.id)===i.id?"border-900 surface-50":"surface-border"),l(),m("className","w-2rem h-2rem border-round-circle flex align-items-center justify-content-center "+i.colorClass),l(),I(i.icon+" text-sm"),l(2),P(i.name)}}function te(o,F){if(o&1){let i=M();e(0,"div",2)(1,"div",3),c("click",function(a){return p(i),f(a.stopPropagation())}),e(2,"h3",4),n(3),t(),e(4,"form",5),c("ngSubmit",function(){p(i);let a=u();return f(a.save())}),e(5,"div",6)(6,"span",7),n(7,"Monto"),t(),e(8,"div",8)(9,"span",9),n(10,"S/"),t(),e(11,"input",10,0),C("ngModelChange",function(a){p(i);let s=u();return y(s.amount,a)||(s.amount=a),f(a)}),t()()(),e(13,"div",11)(14,"span",12),n(15,"Categor\xEDa"),t(),e(16,"div",13),E(17,ee,6,5,"div",14),t()(),e(18,"div",15)(19,"button",16),c("click",function(){p(i);let a=u();return f(a.close())}),n(20," Cancelar "),t(),e(21,"button",17),n(22," Guardar "),t()()()(),e(23,"div",18),c("click",function(){p(i);let a=u();return f(a.close())}),t()()}if(o&2){let i=u();l(2),m("ngClass",i.titleColor),l(),G(" Registrar ",i.type==="INGRESO"?"Ingreso":"Gasto"," "),l(5),m("ngClass",i.amount?"border-primary":"surface-border"),l(3),v("ngModel",i.amount),l(6),m("ngForOf",i.currentCategories),l(4),m("disabled",!i.isValid)("ngClass",L(7,$,!i.isValid))}}var J=(()=>{class o{constructor(){this.visible=!1,this.type="INGRESO",this.visibleChange=new w,this.saved=new w,this.amount=null,this.selectedCategory=null,this.incomeCategories=[{id:1,name:"Venta",icon:"fas fa-tshirt",colorClass:"bg-green-100 text-green-600"},{id:2,name:"Capital",icon:"fas fa-wallet",colorClass:"bg-blue-100 text-blue-600"}],this.expenseCategories=[{id:1,name:"Pasaje",icon:"fas fa-bus",colorClass:"bg-red-100 text-red-600"},{id:2,name:"Comida",icon:"fas fa-utensils",colorClass:"bg-orange-100 text-orange-600"},{id:3,name:"Puesto",icon:"fas fa-store",colorClass:"bg-purple-100 text-purple-600"},{id:4,name:"Otros",icon:"fas fa-ellipsis-h",colorClass:"surface-200 text-600"}]}ngOnChanges(i){i.visible&&i.visible.currentValue===!0&&setTimeout(()=>{this.amountInput&&this.amountInput.nativeElement.focus()},100)}get currentCategories(){return this.type==="INGRESO"?this.incomeCategories:this.expenseCategories}get titleColor(){return this.type==="INGRESO"?"text-green-600":"text-red-600"}get isValid(){return this.amount&&this.amount>0&&this.selectedCategory}close(){this.visible=!1,this.visibleChange.emit(!1),setTimeout(()=>{this.amount=null,this.selectedCategory=null},200)}save(){if(!this.isValid){console.warn("Formulario inv\xE1lido: Falta monto o categor\xEDa");return}this.saved.emit({type:this.type,amount:this.amount,category:this.selectedCategory}),this.close()}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275cmp=g({type:o,selectors:[["app-transaction-modal"]],viewQuery:function(r,a){if(r&1&&N(Z,5),r&2){let s;O(s=j())&&(a.amountInput=s.first)}},inputs:{visible:"visible",type:"type"},outputs:{visibleChange:"visibleChange",saved:"saved"},standalone:!0,features:[k,_],decls:1,vars:1,consts:[["amountInput",""],["class","fixed top-0 left-0 w-full h-full z-5 flex align-items-center justify-content-center","style","background-color: rgba(15, 23, 42, 0.4); backdrop-filter: blur(4px)",4,"ngIf"],[1,"fixed","top-0","left-0","w-full","h-full","z-5","flex","align-items-center","justify-content-center",2,"background-color","rgba(15, 23, 42, 0.4)","backdrop-filter","blur(4px)"],[1,"surface-card","border-round-2xl","shadow-8","p-5","w-full","max-w-25rem","m-3","slide-up","relative",3,"click"],[1,"text-xl","font-bold","mb-4","m-0",3,"ngClass"],[3,"ngSubmit"],[1,"mb-4"],[1,"text-xs","font-bold","text-500","block","mb-2"],[1,"flex","align-items-center","border-bottom-2","py-2","transition-colors","duration-200",3,"ngClass"],[1,"text-2xl","font-bold","text-400","mr-2"],["type","number","name","amount","placeholder","0.00",1,"w-full","text-3xl","font-bold","border-none","outline-none","text-900","bg-transparent",3,"ngModelChange","ngModel"],[1,"mb-5"],[1,"text-xs","font-bold","text-500","block","mb-3"],[1,"grid","formgrid"],["class","col-6 mb-3",4,"ngFor","ngForOf"],[1,"flex","gap-3"],["type","button",1,"w-full","surface-200","text-700","font-bold","py-3","border-round-xl","border-none","cursor-pointer","hover:surface-300","transition-colors",3,"click"],["type","submit",1,"w-full","bg-bluegray-900","text-white","font-bold","py-3","border-round-xl","border-none","cursor-pointer","hover:bg-bluegray-800","transition-colors","shadow-3",3,"disabled","ngClass"],[1,"absolute","inset-0","z-minus-1",3,"click"],[1,"col-6","mb-3"],[1,"cursor-pointer","border-1","border-round-xl","p-3","flex","align-items-center","gap-3","transition-all","transition-duration-200","hover:surface-50",3,"click","ngClass"],[3,"className"],[1,"font-bold","text-sm","text-900"]],template:function(r,a){r&1&&E(0,te,24,9,"div",1),r&2&&m("ngIf",a.visible)},dependencies:[S,R,D,W,H,Y,A,q,z,Q,B,U],styles:['@charset "UTF-8";.slide-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .3s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.btn-disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed!important}']})}}return o})();var K=(()=>{class o{constructor(){this.modalVisible=!1,this.modalType="INGRESO"}openTransactionModal(i){this.modalType=i,this.modalVisible=!0}handleTransactionSave(i){console.log("Datos guardados:",i)}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275cmp=g({type:o,selectors:[["app-financial-summary"]],standalone:!0,features:[_],decls:100,vars:2,consts:[[1,"flex","flex-column","gap-4"],[1,"grid"],[1,"col-12","md:col-3"],[1,"bg-bluegray-900","border-round-2xl","p-4","text-white","shadow-4","relative","overflow-hidden","h-full"],[1,"absolute","top-0","right-0","p-3","opacity-10"],[1,"fas","fa-wallet","text-6xl"],[1,"text-gray-400","text-xs","font-bold","uppercase","mb-2",2,"letter-spacing","1px"],[1,"text-3xl","font-bold","mb-3","m-0","text-white"],[1,"flex","gap-2","text-xs"],[1,"surface-800","p-2","border-round","border-1","border-700"],[1,"surface-card","border-round-2xl","p-4","border-1","surface-border","shadow-2","h-full"],[1,"flex","justify-content-between","mb-3"],[1,"w-3rem","h-3rem","bg-green-50","border-round-lg","flex","align-items-center","justify-content-center","text-green-600"],[1,"fas","fa-arrow-down"],[1,"text-xs","font-bold","text-green-600","bg-green-50","px-2","py-1","border-round-2xl","h-fit"],[1,"text-500","text-xs","font-bold","uppercase","m-0"],[1,"text-2xl","font-bold","text-900","mt-2","mb-0"],[1,"w-3rem","h-3rem","bg-red-50","border-round-lg","flex","align-items-center","justify-content-center","text-red-500"],[1,"fas","fa-arrow-up"],[1,"text-xs","text-400","mt-1"],[1,"w-3rem","h-3rem","bg-blue-50","border-round-lg","flex","align-items-center","justify-content-center","text-blue-600"],[1,"fas","fa-shopping-bag"],[1,"surface-card","border-round-2xl","border-1","surface-border","shadow-2","overflow-hidden"],[1,"p-4","border-bottom-1","surface-border","flex","justify-content-between","align-items-center"],[1,"font-bold","text-800","m-0"],[1,"flex","gap-2"],[1,"cursor-pointer","border-none","bg-green-50","text-green-700","hover:bg-green-100","px-3","py-2","border-round-lg","text-sm","font-bold","transition-colors","transition-duration-200","flex","align-items-center",3,"click"],[1,"fas","fa-plus","mr-2"],[1,"cursor-pointer","border-none","bg-red-50","text-red-700","hover:bg-red-100","px-3","py-2","border-round-lg","text-sm","font-bold","transition-colors","transition-duration-200","flex","align-items-center",3,"click"],[1,"fas","fa-minus","mr-2"],[1,"w-full","text-left","text-sm","text-600","border-collapse","border-none"],[1,"surface-50","text-xs","uppercase","font-bold","text-500"],[1,"p-4"],[1,"p-4","text-right"],[1,""],[1,"hover:surface-hover","transition-colors","transition-duration-200","border-bottom-1","surface-border"],[1,"p-4","font-medium","text-900"],[1,"bg-green-100","text-green-700","px-2","py-1","border-round","text-xs","font-bold"],[1,"fas","fa-money-bill-wave","text-green-500","mr-2"],[1,"p-4","text-right","font-bold","text-green-600"],[1,"bg-red-100","text-red-700","px-2","py-1","border-round","text-xs","font-bold"],[1,"fas","fa-wallet","text-400","mr-2"],[1,"p-4","text-right","font-bold","text-900"],[3,"visibleChange","saved","visible","type"]],template:function(r,a){r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),d(5,"i",5),t(),e(6,"p",6),n(7," Caja Total "),t(),e(8,"h3",7),n(9,"S/ 1,850.00"),t(),e(10,"div",8)(11,"span",9),n(12,"Efec: S/ 500"),t(),e(13,"span",9),n(14,"Dig: S/ 1,350"),t()()()(),e(15,"div",2)(16,"div",10)(17,"div",11)(18,"div",12),d(19,"i",13),t(),e(20,"span",14),n(21,"+12%"),t()(),e(22,"p",15),n(23,"Ingresos Ventas"),t(),e(24,"h3",16),n(25,"S/ 4,250"),t()()(),e(26,"div",2)(27,"div",10)(28,"div",11)(29,"div",17),d(30,"i",18),t()(),e(31,"p",15),n(32," Gastos Operativos "),t(),e(33,"h3",16),n(34,"S/ 350"),t(),e(35,"p",19),n(36,"Luz, Pasajes, Comida"),t()()(),e(37,"div",2)(38,"div",10)(39,"div",11)(40,"div",20),d(41,"i",21),t()(),e(42,"p",15),n(43,"Inversi\xF3n Stock"),t(),e(44,"h3",16),n(45,"S/ 2,100"),t(),e(46,"p",19),n(47,"Compras recuperables"),t()()()(),e(48,"div",22)(49,"div",23)(50,"h3",24),n(51,"\xDAltimos Movimientos"),t(),e(52,"div",25)(53,"button",26),c("click",function(){return a.openTransactionModal("INGRESO")}),d(54,"i",27),n(55," Ingreso "),t(),e(56,"button",28),c("click",function(){return a.openTransactionModal("GASTO")}),d(57,"i",29),n(58," Gasto "),t()()(),e(59,"table",30)(60,"thead",31)(61,"tr")(62,"th",32),n(63,"Concepto"),t(),e(64,"th",32),n(65,"Categor\xEDa"),t(),e(66,"th",32),n(67,"Fecha"),t(),e(68,"th",32),n(69,"M\xE9todo"),t(),e(70,"th",33),n(71,"Monto"),t()()(),e(72,"tbody",34)(73,"tr",35)(74,"td",36),n(75,"Venta POS #024"),t(),e(76,"td",32)(77,"span",37),n(78,"Venta"),t()(),e(79,"td",32),n(80,"Hoy, 12:30 PM"),t(),e(81,"td",32),d(82,"i",38),n(83,"Efectivo "),t(),e(84,"td",39),n(85,"+ S/ 120.00"),t()(),e(86,"tr",35)(87,"td",36),n(88,"Pasaje Lima Ida"),t(),e(89,"td",32)(90,"span",40),n(91,"Pasaje"),t()(),e(92,"td",32),n(93,"Ayer, 08:00 PM"),t(),e(94,"td",32),d(95,"i",41),n(96,"Caja Chica "),t(),e(97,"td",42),n(98,"- S/ 60.00"),t()()()()()(),e(99,"app-transaction-modal",43),C("visibleChange",function(x){return y(a.modalVisible,x)||(a.modalVisible=x),x}),c("saved",function(x){return a.handleTransactionSave(x)}),t()),r&2&&(l(99),v("visible",a.modalVisible),m("type",a.modalType))},dependencies:[J]})}}return o})();var ne=[{path:"",component:K},{path:"",pathMatch:"full",redirectTo:"financial-summary"}],X=(()=>{class o{static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275mod=h({type:o})}static{this.\u0275inj=b({imports:[T.forChild(ne),T]})}}return o})();var ye=(()=>{class o{static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275mod=h({type:o})}static{this.\u0275inj=b({imports:[S,X]})}}return o})();export{ye as FinancialSummaryModule};

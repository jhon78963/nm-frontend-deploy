import{d as u}from"./chunk-NELNUKEX.js";import{C as p,M as s,S as c,X as n,j as r,r as h}from"./chunk-UISEBZIM.js";var f=(()=>{class e{constructor(t){this.apiService=t,this.roles=[],this.total=0,this.roles$=new r(this.roles),this.total$=new r(this.total)}callGetList(t=10,i=1,a=""){let o=`roles?limit=${t}&page=${i}`;return a&&(o+=`&search=${a}`),this.apiService.get(o).pipe(p(600),h(l=>{this.updateRoles(l.data),this.updateTotalRoles(l.paginate.total)}))}getList(){return this.roles$.asObservable()}getTotal(){return this.total$.asObservable()}getOne(t){return this.apiService.get(`roles/${t}`)}create(t){return this.apiService.post("roles",t).pipe(s(()=>this.callGetList()))}edit(t,i){return this.apiService.patch(`roles/${t}`,i).pipe(s(()=>this.callGetList()))}delete(t){return this.apiService.delete(`roles/${t}`).pipe(s(()=>this.callGetList()))}updateRoles(t){this.roles=t,this.roles$.next(this.roles)}updateTotalRoles(t){this.total=t,this.total$.next(this.total)}static{this.\u0275fac=function(i){return new(i||e)(n(u))}}static{this.\u0275prov=c({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();export{f as a};

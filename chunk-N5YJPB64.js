import{a as O,b as G}from"./chunk-4PZ33CWV.js";import{b as D}from"./chunk-FAFHRMBE.js";import{c as j}from"./chunk-ODTFD3QQ.js";import"./chunk-TVFTUAXU.js";import{d as N,e as W}from"./chunk-KZGPV3OV.js";import"./chunk-MROZGMZP.js";import"./chunk-6MWK2YGG.js";import"./chunk-S23T3VNK.js";import"./chunk-ZSZR532A.js";import{x as R}from"./chunk-3IAGLYRS.js";import{k as V}from"./chunk-56NTXRTG.js";import{e as B,f as E,g as P,h as T}from"./chunk-DIBFAAWP.js";import{Ab as I,Bb as d,Lb as S,Pb as k,Qb as b,Ra as s,Rb as y,Sa as m,Sb as M,Tb as F,Uc as L,ba as w,gb as h,hb as f,ib as C,la as l,ma as p,mb as v,na as u,ob as x,tb as n,ub as o,vb as a,z as _,zb as g}from"./chunk-UISEBZIM.js";function $(r,Q){if(r&1){let e=g();u(),n(0,"svg",6),I("click",function(){l(e);let i=d();return p(i.prev())}),a(1,"path",7),o()}if(r&2){let e=d();v(e.currentIndex===0?"cursor-not-allowed":"cursor-accepted"),s(),f("stroke",e.currentIndex===0?"#6B6B6B":"#ffb340")}}function z(r,Q){if(r&1){let e=g();u(),n(0,"svg",6),I("click",function(){l(e);let i=d();return p(i.next())}),a(1,"path",8),o()}if(r&2){let e=d();v(e.currentIndex===3?"cursor-not-allowed":"cursor-accepted"),s(),f("stroke",e.currentIndex===3?"#6B6B6B":"#ffb340")}}var oe=(()=>{class r{constructor(e,t){this.router=e,this.route=t,this.productId=0,this.items=[],this.currentIndex=0}ngOnInit(){this.initialProductId(),this.uploadSteps(),this.updateStepStatus(),this.updateQueryParam()}initialProductId(){this.route.snapshot.firstChild&&(this.productId=Number(this.route.snapshot.firstChild.paramMap.get("id")))}uploadSteps(){this.items=[{label:"General",routerLink:[`/inventories/products/step/general/${this.productId}`]},{label:"Tallas",routerLink:[`/inventories/products/step/sizes/${this.productId}`]},{label:"Colores",routerLink:[`/inventories/products/step/colors/${this.productId}`]},{label:"Ecommerce",routerLink:[`/inventories/products/step/ecommerce/${this.productId}`]}]}prev(){if(this.currentIndex>0){this.currentIndex-=1;let e=this.items[this.currentIndex].routerLink?.[0];e&&this.router.navigate([e])}}next(){if(this.currentIndex<this.items.length-1){this.currentIndex+=1;let e=this.items[this.currentIndex].routerLink?.[0];e&&this.router.navigate([e])}}updateStepStatus(){let e=this.productId===0;[1,2,3].forEach(t=>{this.items[t]&&(this.items[t].disabled=e)})}updateQueryParam(){this.router.events.pipe(_(e=>e instanceof B)).subscribe(()=>{let e=this.route.firstChild;e&&e.paramMap.subscribe(t=>{let i=Number(t.get("id"));this.productId=i,this.uploadSteps(),this.updateStepStatus()})})}static{this.\u0275fac=function(t){return new(t||r)(m(T),m(E))}}static{this.\u0275cmp=w({type:r,selectors:[["app-products-form"]],standalone:!0,features:[M([j,V]),F],decls:11,vars:5,consts:[[1,"card","card-w-title","flex","flex-wrap"],[1,"col-12","h-full"],[1,"flex","justify-content-between","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","48","height","48","viewBox","0 0 48 48","fill","none",3,"class"],["styleClass","mt-5",1,"w-full",3,"activeIndexChange","model","readonly","activeIndex"],[1,"col-12"],["xmlns","http://www.w3.org/2000/svg","width","48","height","48","viewBox","0 0 48 48","fill","none",3,"click"],["d","M28 14L18 24L28 34","stroke-width","5","stroke-linecap","round","stroke-linejoin","round"],["d","M20 34L30 24L20 14","stroke-width","5","stroke-linecap","round","stroke-linejoin","round"]],template:function(t,i){t&1&&(n(0,"div",0)(1,"div",1)(2,"h5"),S(3,"Productos"),o(),n(4,"div",2),h(5,$,2,3,":svg:svg",3),n(6,"p-steps",4),y("activeIndexChange",function(c){return b(i.currentIndex,c)||(i.currentIndex=c),c}),o(),h(7,z,2,3,":svg:svg",3),o()(),n(8,"div",5),a(9,"router-outlet"),o()(),a(10,"p-toast")),t&2&&(s(5),x(5,i.productId>0?5:-1),s(),C("model",i.items)("readonly",!1),k("activeIndex",i.currentIndex),s(),x(7,i.productId>0?7:-1))},dependencies:[L,R,D,G,O,P,W,N],styles:[".p-menuitem-link{width:100%}.cursor-not-allowed[_ngcontent-%COMP%]{cursor:not-allowed}.cursor-accepted[_ngcontent-%COMP%]{cursor:pointer}"]})}}return r})();export{oe as StepperFormComponent};
